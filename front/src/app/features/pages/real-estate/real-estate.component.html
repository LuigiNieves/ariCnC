<label class="btn-add" (click)="toggleAddFormSignal()">
  <i class="fas fa-plus-circle"></i> Agregar
</label>

<div class="realState-list-container">
  @if (!addSelect() && !editSelect()) {
  @for ( realState of propertiesSignal(); track realState.realStateId) {
  <div class="realState-item">
    <div class="realState-image-container">
      @if (realState.imageUrl) {
      <img [src]="supabase.URL + realState.imageUrl" alt="Property Image" class="realState-image" />
      }
    </div>

    <div class="realState-info">
      <h3>{{ realState.title }}</h3>
      <p>{{ realState.description }}</p>
      <p>Precio: {{ realState.price | currency: 'USD':'symbol':'1.0-0' }}</p>
      <p>Ubicación: {{ realState.location }}</p>

      <div class="realState-actions">
        <button class="btn btn-edit" (click)="onEditProperty(realState)">
          <i class="fas fa-pen-square"></i>
        </button>
        <button class="btn btn-delete" (click)="onDeleteProperty(realState.realStateId!)">
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
    </div>
  </div>
  }
  } @else {
  <form [formGroup]="addPropertyForm">
    <h2>{{ editSelect() ? 'Editar Propiedad' : 'Agregar Propiedad' }}</h2>

    <div class="form-group">
      <label for="title">Nombre</label>
      <input type="text" id="title" formControlName="title" placeholder="Ingrese el título" class="form-control" />
    </div>

    <div class="form-group">
      <label for="price">Precio</label>
      <input type="number" id="price" formControlName="price" placeholder="Ingrese el precio" class="form-control" />
    </div>

    <div class="form-group">
      <label for="location">Ubicación</label>
      <input type="text" id="location" formControlName="location" placeholder="Ingrese la ubicación"
        class="form-control" />
    </div>

    <div class="form-group">
      <label for="image">Imagen</label>
      <input type="file" id="image" accept="image/*" (change)="onFileSelected($event)" required />
    </div>

    <div class="form-group">
      <label for="description">Descripción</label>
      <textarea id="description" formControlName="description" placeholder="Ingrese la descripción"
        class="form-control"></textarea>
    </div>

    <!-- <div class="form-group">
      <label>Categorías</label>
      @for ( category of CATEGORIES; track category) {
      <section class="categories">
        <input type="checkbox" [id]="category" [value]="category" />
        <label [for]="category">{{ category.toLowerCase() }}</label>
      </section>
      }
    </div> -->

    <button class="btn btn-submit" (click)="editSelect() ? onSubmitEdit() : onAddProperty()">
      {{ editSelect() ? 'Guardar Cambios' : 'Agregar' }}
    </button>
    <button type="button" class="btn btn-delete"
      (click)="editSelect() ? toggleEditFormSignal() : toggleAddFormSignal()">
      Cancelar
    </button>
  </form>
  }
</div>